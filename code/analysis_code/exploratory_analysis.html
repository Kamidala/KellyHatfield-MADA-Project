<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kelly Hatfield">
<meta name="dcterms.date" content="2023-02-24">

<title>Exploratory analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="exploratory_analysis_files/libs/clipboard/clipboard.min.js"></script>
<script src="exploratory_analysis_files/libs/quarto-html/quarto.js"></script>
<script src="exploratory_analysis_files/libs/quarto-html/popper.min.js"></script>
<script src="exploratory_analysis_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="exploratory_analysis_files/libs/quarto-html/anchor.min.js"></script>
<link href="exploratory_analysis_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="exploratory_analysis_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="exploratory_analysis_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="exploratory_analysis_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="exploratory_analysis_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exploratory analysis</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Kelly Hatfield </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 24, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>This Quarto file loads the cleaned data and does some exploring.</p>
<section id="setup" class="level1">
<h1>Setup</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#load needed packages. make sure they are installed.</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>here() starts at /Users/kellymccormickhatfield/Documents/MADA 2023/KellyHatfield-MADA-Project</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span> (tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages
───────────────────────────────────────
tidyverse 1.3.2 ──</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔ ggplot2 3.4.0      ✔ purrr   1.0.0 
✔ tibble  3.1.8      ✔ dplyr   1.0.10
✔ tidyr   1.2.1      ✔ stringr 1.5.0 
✔ readr   2.1.3      ✔ forcats 0.5.2 
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Load the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Path to data. Note the use of the here() package and not absolute paths</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>data_location <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>,<span class="st">"processed_data"</span>,<span class="st">"processeddata.rds"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#load data</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(data_location)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Reminder of variable names</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>(mydata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day"
 [2] "Average.Number.of.Residents.per.Day"                     
 [3] "cms_certification_number_ccn"                            
 [4] "COMP_PERF"                                               
 [5] "HAI_039_Denominator"                                     
 [6] "HAI_039_Obs_Rate"                                        
 [7] "HAI_039_Observed"                                        
 [8] "HAI_039_RS_Rate"                                         
 [9] "Number.of.Citations.from.Infection.Control.Inspections"  
[10] "Ownership.Type"                                          
[11] "Provider.State"                                          
[12] "Staffing.Rating"                                         
[13] "state"                                                   
[14] "Total.Weighted.Health.Survey.Score"                      </code></pre>
</div>
</div>
</section>
<section id="data-exploration-through-tables" class="level1">
<h1>Data exploration through tables</h1>
<p>Showing a bit of code to produce and save a summary table.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>summary_df <span class="ot">=</span> skimr<span class="sc">::</span><span class="fu">skim</span>(mydata)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(summary_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>── Data Summary ────────────────────────
                           Values
Name                       mydata
Number of rows             10502 
Number of columns          14    
_______________________          
Column type frequency:           
  character                5     
  numeric                  9     
________________________         
Group variables            None  

── Variable type: character ────────────────────────────────────────────────────
  skim_variable                n_missing complete_rate min max empty n_unique
1 cms_certification_number_ccn         0             1   6   6     0    10502
2 Provider.State                       0             1   2   2     0       44
3 Ownership.Type                       0             1  17  38     0       13
4 state                                0             1   2   2     0       44
5 COMP_PERF                            0             1  28  35     0        3
  whitespace
1          0
2          0
3          0
4          0
5          0

── Variable type: numeric ──────────────────────────────────────────────────────
  skim_variable                                            n_missing
1 Average.Number.of.Residents.per.Day                             18
2 Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day       262
3 Staffing.Rating                                                154
4 Total.Weighted.Health.Survey.Score                              28
5 Number.of.Citations.from.Infection.Control.Inspections          12
6 HAI_039_Observed                                                 0
7 HAI_039_Obs_Rate                                                 0
8 HAI_039_Denominator                                              0
9 HAI_039_RS_Rate                                                  0
  complete_rate  mean     sd      p0   p25   p50    p75   p100 hist 
1         0.998 86.2  49.5    1      54.7  78.4  104.    708   ▇▁▁▁▁
2         0.975  3.67  0.897  0.0357  3.11  3.54   4.07   11.6 ▁▇▁▁▁
3         0.985  2.50  1.30   1       1     2      4       5   ▇▆▆▅▂
4         0.997 68.6  79.0    0      22.7  44     85.6  1100.  ▇▁▁▁▁
5         0.999  1.55  2.63   0       0     1      2      43   ▇▁▁▁▁
6         1      7.45  7.35   0       3     5     10      97   ▇▁▁▁▁
7         1      7.85  4.93   0       4.35  7.14  10.5    50   ▇▃▁▁▁
8         1     99.2  86.4   25      44    72    121    1129   ▇▁▁▁▁
9         1      7.68  1.81   3.12    6.39  7.41   8.68   21.7 ▅▇▁▁▁</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># save to file</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>summarytable_file <span class="ot">=</span> <span class="fu">here</span>(<span class="st">"results"</span>, <span class="st">"summarytable.rds"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(summary_df, <span class="at">file =</span> summarytable_file)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We are saving the results to the <code>results</code> folder. Depending on how many tables/figures you have, it might make sense to have separate folders for each. And/or you could have separate folders for exploratory tables/figures and for final tables/figures. Just choose a setup that makes sense for your project and works for you, and provide enough documentation that someone can understand what you are doing.</p>
</section>
<section id="data-exploration-through-figures" class="level1">
<h1>Data exploration through figures</h1>
<p>Histogram plots for the continuous outcomes.</p>
<p>First, Risk Standardized HAI Rate</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> mydata <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>HAI_039_RS_Rate)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="exploratory_analysis_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>figure_file <span class="ot">=</span> <span class="fu">here</span>(<span class="st">"results"</span>,<span class="st">"RiskStandardized_HAI_Rate_distribution.png"</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> figure_file, <span class="at">plot=</span>p1) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
</div>
<p>Now Total Nurse Staffing per Resident per Day</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> mydata <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 262 rows containing non-finite values (`stat_bin()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="exploratory_analysis_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>figure_file <span class="ot">=</span> <span class="fu">here</span>(<span class="st">"results"</span>,<span class="st">"Adj_Tot_Staff_prpd.png"</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> figure_file, <span class="at">plot=</span>p2) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image
`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 262 rows containing non-finite values (`stat_bin()`).</code></pre>
</div>
</div>
<p>Now showing relationship between staffing and HAI rates</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> mydata <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day, <span class="at">y=</span>HAI_039_RS_Rate, <span class="at">color=</span>Staffing.Rating)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">'lm'</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 262 rows containing non-finite values (`stat_smooth()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The following aesthetics were dropped during statistical transformation: colour
ℹ This can happen when ggplot fails to infer the correct grouping structure in
  the data.
ℹ Did you forget to specify a `group` aesthetic or to convert a numerical
  variable into a factor?</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 262 rows containing missing values (`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="exploratory_analysis_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>figure_file <span class="ot">=</span> <span class="fu">here</span>(<span class="st">"results"</span>,<span class="st">"staff_hai.png"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> figure_file, <span class="at">plot=</span>p3) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image
`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 262 rows containing non-finite values (`stat_smooth()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The following aesthetics were dropped during statistical transformation: colour
ℹ This can happen when ggplot fails to infer the correct grouping structure in
  the data.
ℹ Did you forget to specify a `group` aesthetic or to convert a numerical
  variable into a factor?</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 262 rows containing missing values (`geom_point()`).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>p3b <span class="ot">&lt;-</span> mydata <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(Staffing.Rating), <span class="at">y=</span>HAI_039_RS_Rate)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>() <span class="sc">+</span> <span class="fu">geom_jitter</span>(<span class="at">width=</span><span class="fl">0.15</span>, <span class="at">alpha=</span><span class="fl">0.08</span>, <span class="at">color=</span><span class="st">"black"</span>, <span class="at">fill=</span><span class="st">"white"</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p3b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="exploratory_analysis_files/figure-html/unnamed-chunk-6-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>figure_file <span class="ot">=</span> <span class="fu">here</span>(<span class="st">"results"</span>,<span class="st">"staffrating_hai.png"</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> figure_file, <span class="at">plot=</span>p3b) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image</code></pre>
</div>
</div>
<p>Once more height as function of weight, stratified by ownership type.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">&lt;-</span> mydata <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(Ownership.Type), <span class="at">y=</span>HAI_039_RS_Rate)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">'lm'</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="exploratory_analysis_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>figure_file <span class="ot">=</span> <span class="fu">here</span>(<span class="st">"results"</span>,<span class="st">"staff_hai_ownership.png"</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> figure_file, <span class="at">plot=</span>p4) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image
`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
</div>
</section>
<section id="changing-our-outcome" class="level1">
<h1>Changing our outcome</h1>
<p>In this plot we categorized our outcome as a 3-level variable: better than the national rate, worse than the national rate or no different than the national rate.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>p5 <span class="ot">&lt;-</span>  mydata <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">as.factor</span>(COMP_PERF), <span class="at">y=</span>Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>() <span class="sc">+</span> <span class="fu">geom_jitter</span>(<span class="at">width=</span><span class="fl">0.15</span>, <span class="at">alpha=</span><span class="fl">0.08</span>, <span class="at">color=</span><span class="st">"black"</span>, <span class="at">fill=</span><span class="st">"white"</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 262 rows containing non-finite values (`stat_boxplot()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 262 rows containing missing values (`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="exploratory_analysis_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>figure_file <span class="ot">=</span> <span class="fu">here</span>(<span class="st">"results"</span>,<span class="st">"staff_hai_compscore.png"</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> figure_file, <span class="at">plot=</span>p5) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Saving 7 x 5 in image</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 262 rows containing non-finite values (`stat_boxplot()`).
Removed 262 rows containing missing values (`geom_point()`).</code></pre>
</div>
</div>
<p>We find that while nursing homes who have rates better than the national rate do appear to have higher staffing scores, nursing homes no different and worse than the national rate appear more similar in distribution.</p>
<section id="modeling-fun" class="level2">
<h2 class="anchored" data-anchor-id="modeling-fun">Modeling Fun</h2>
<p>For this section I have decided I am going to assess if staffing rating adds additional information to my model that includes staffing rate. For this model we will use the risk adjusted HAI rate as a continuous outcome. We will use a linear model. We will make three models:</p>
<ol type="1">
<li>Model with staffing rate and other covariates of interest (Ownership Type, Average Number of Residents per Day, and staffing rate (the continuous value)</li>
<li>Model with staffing rating and other covariates of interest (Ownership Type, Average Number of Residents per day, and staffing rating (the categorical value)</li>
<li>Model with both staffing rating and staffing rate + other covariates of interest</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Model 1</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>model1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(HAI_039_RS_Rate <span class="sc">~</span> <span class="fu">as.factor</span>(Ownership.Type) <span class="sc">+</span> Average.Number.of.Residents.per.Day <span class="sc">+</span> Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day <span class="sc">+</span> Number.of.Citations.from.Infection.Control.Inspections <span class="sc">+</span> Total.Weighted.Health.Survey.Score, <span class="at">data=</span>mydata)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = HAI_039_RS_Rate ~ as.factor(Ownership.Type) + Average.Number.of.Residents.per.Day + 
    Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day + 
    Number.of.Citations.from.Infection.Control.Inspections + 
    Total.Weighted.Health.Survey.Score, data = mydata)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.4760 -1.2117 -0.2364  0.9860 13.9718 

Coefficients:
                                                                  Estimate
(Intercept)                                                      8.2070144
as.factor(Ownership.Type)For profit - Individual                 0.3271201
as.factor(Ownership.Type)For profit - Limited Liability company  0.2235374
as.factor(Ownership.Type)For profit - Partnership                0.2109578
as.factor(Ownership.Type)Government - City                      -0.7280818
as.factor(Ownership.Type)Government - City/county               -0.4183505
as.factor(Ownership.Type)Government - County                    -0.4644302
as.factor(Ownership.Type)Government - Federal                   -0.9563757
as.factor(Ownership.Type)Government - Hospital district         -0.0765009
as.factor(Ownership.Type)Government - State                     -0.2116840
as.factor(Ownership.Type)Non profit - Church related            -0.7976154
as.factor(Ownership.Type)Non profit - Corporation               -0.6118238
as.factor(Ownership.Type)Non profit - Other                     -0.2218036
Average.Number.of.Residents.per.Day                              0.0031329
Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day        -0.2192510
Number.of.Citations.from.Infection.Control.Inspections           0.0330311
Total.Weighted.Health.Survey.Score                               0.0005870
                                                                Std. Error
(Intercept)                                                      0.0938751
as.factor(Ownership.Type)For profit - Individual                 0.0806930
as.factor(Ownership.Type)For profit - Limited Liability company  0.0483734
as.factor(Ownership.Type)For profit - Partnership                0.0843416
as.factor(Ownership.Type)Government - City                       0.3987607
as.factor(Ownership.Type)Government - City/county                0.3028721
as.factor(Ownership.Type)Government - County                     0.1164191
as.factor(Ownership.Type)Government - Federal                    0.7077293
as.factor(Ownership.Type)Government - Hospital district          0.1358985
as.factor(Ownership.Type)Government - State                      0.3901375
as.factor(Ownership.Type)Non profit - Church related             0.1156147
as.factor(Ownership.Type)Non profit - Corporation                0.0499020
as.factor(Ownership.Type)Non profit - Other                      0.1110642
Average.Number.of.Residents.per.Day                              0.0003646
Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day         0.0212224
Number.of.Citations.from.Infection.Control.Inspections           0.0071187
Total.Weighted.Health.Survey.Score                               0.0002418
                                                                t value
(Intercept)                                                      87.425
as.factor(Ownership.Type)For profit - Individual                  4.054
as.factor(Ownership.Type)For profit - Limited Liability company   4.621
as.factor(Ownership.Type)For profit - Partnership                 2.501
as.factor(Ownership.Type)Government - City                       -1.826
as.factor(Ownership.Type)Government - City/county                -1.381
as.factor(Ownership.Type)Government - County                     -3.989
as.factor(Ownership.Type)Government - Federal                    -1.351
as.factor(Ownership.Type)Government - Hospital district          -0.563
as.factor(Ownership.Type)Government - State                      -0.543
as.factor(Ownership.Type)Non profit - Church related             -6.899
as.factor(Ownership.Type)Non profit - Corporation               -12.261
as.factor(Ownership.Type)Non profit - Other                      -1.997
Average.Number.of.Residents.per.Day                               8.592
Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day        -10.331
Number.of.Citations.from.Infection.Control.Inspections            4.640
Total.Weighted.Health.Survey.Score                                2.427
                                                                Pr(&gt;|t|)    
(Intercept)                                                      &lt; 2e-16 ***
as.factor(Ownership.Type)For profit - Individual                5.07e-05 ***
as.factor(Ownership.Type)For profit - Limited Liability company 3.86e-06 ***
as.factor(Ownership.Type)For profit - Partnership                 0.0124 *  
as.factor(Ownership.Type)Government - City                        0.0679 .  
as.factor(Ownership.Type)Government - City/county                 0.1672    
as.factor(Ownership.Type)Government - County                    6.67e-05 ***
as.factor(Ownership.Type)Government - Federal                     0.1766    
as.factor(Ownership.Type)Government - Hospital district           0.5735    
as.factor(Ownership.Type)Government - State                       0.5874    
as.factor(Ownership.Type)Non profit - Church related            5.55e-12 ***
as.factor(Ownership.Type)Non profit - Corporation                &lt; 2e-16 ***
as.factor(Ownership.Type)Non profit - Other                       0.0458 *  
Average.Number.of.Residents.per.Day                              &lt; 2e-16 ***
Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day         &lt; 2e-16 ***
Number.of.Citations.from.Infection.Control.Inspections          3.53e-06 ***
Total.Weighted.Health.Survey.Score                                0.0152 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1.732 on 10217 degrees of freedom
  (268 observations deleted due to missingness)
Multiple R-squared:  0.07963,   Adjusted R-squared:  0.07819 
F-statistic: 55.25 on 16 and 10217 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>model2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(HAI_039_RS_Rate <span class="sc">~</span> <span class="fu">as.factor</span>(Ownership.Type) <span class="sc">+</span> Average.Number.of.Residents.per.Day <span class="sc">+</span> <span class="fu">as.factor</span>(Staffing.Rating)<span class="sc">+</span> Number.of.Citations.from.Infection.Control.Inspections <span class="sc">+</span> Total.Weighted.Health.Survey.Score, <span class="at">data=</span>mydata)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = HAI_039_RS_Rate ~ as.factor(Ownership.Type) + Average.Number.of.Residents.per.Day + 
    as.factor(Staffing.Rating) + Number.of.Citations.from.Infection.Control.Inspections + 
    Total.Weighted.Health.Survey.Score, data = mydata)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.3018 -1.2245 -0.2384  0.9790 14.2559 

Coefficients:
                                                                  Estimate
(Intercept)                                                      7.6634637
as.factor(Ownership.Type)For profit - Individual                 0.3014608
as.factor(Ownership.Type)For profit - Limited Liability company  0.2293832
as.factor(Ownership.Type)For profit - Partnership                0.2045215
as.factor(Ownership.Type)Government - City                      -0.5176030
as.factor(Ownership.Type)Government - City/county               -0.3136779
as.factor(Ownership.Type)Government - County                    -0.3258040
as.factor(Ownership.Type)Government - Federal                   -0.9307994
as.factor(Ownership.Type)Government - Hospital district         -0.1252948
as.factor(Ownership.Type)Government - State                     -0.1708684
as.factor(Ownership.Type)Non profit - Church related            -0.6736603
as.factor(Ownership.Type)Non profit - Corporation               -0.5212022
as.factor(Ownership.Type)Non profit - Other                     -0.1457518
Average.Number.of.Residents.per.Day                              0.0030860
as.factor(Staffing.Rating)2                                     -0.1285560
as.factor(Staffing.Rating)3                                     -0.2410240
as.factor(Staffing.Rating)4                                     -0.5527374
as.factor(Staffing.Rating)5                                     -0.9639688
Number.of.Citations.from.Infection.Control.Inspections           0.0256540
Total.Weighted.Health.Survey.Score                               0.0004328
                                                                Std. Error
(Intercept)                                                      0.0512991
as.factor(Ownership.Type)For profit - Individual                 0.0799721
as.factor(Ownership.Type)For profit - Limited Liability company  0.0481259
as.factor(Ownership.Type)For profit - Partnership                0.0834817
as.factor(Ownership.Type)Government - City                       0.3985662
as.factor(Ownership.Type)Government - City/county                0.2898217
as.factor(Ownership.Type)Government - County                     0.1156796
as.factor(Ownership.Type)Government - Federal                    0.7063778
as.factor(Ownership.Type)Government - Hospital district          0.1351089
as.factor(Ownership.Type)Government - State                      0.3712686
as.factor(Ownership.Type)Non profit - Church related             0.1149557
as.factor(Ownership.Type)Non profit - Corporation                0.0503381
as.factor(Ownership.Type)Non profit - Other                      0.1102120
Average.Number.of.Residents.per.Day                              0.0003543
as.factor(Staffing.Rating)2                                      0.0472649
as.factor(Staffing.Rating)3                                      0.0497998
as.factor(Staffing.Rating)4                                      0.0533471
as.factor(Staffing.Rating)5                                      0.0749135
Number.of.Citations.from.Infection.Control.Inspections           0.0071054
Total.Weighted.Health.Survey.Score                               0.0002430
                                                                t value
(Intercept)                                                     149.388
as.factor(Ownership.Type)For profit - Individual                  3.770
as.factor(Ownership.Type)For profit - Limited Liability company   4.766
as.factor(Ownership.Type)For profit - Partnership                 2.450
as.factor(Ownership.Type)Government - City                       -1.299
as.factor(Ownership.Type)Government - City/county                -1.082
as.factor(Ownership.Type)Government - County                     -2.816
as.factor(Ownership.Type)Government - Federal                    -1.318
as.factor(Ownership.Type)Government - Hospital district          -0.927
as.factor(Ownership.Type)Government - State                      -0.460
as.factor(Ownership.Type)Non profit - Church related             -5.860
as.factor(Ownership.Type)Non profit - Corporation               -10.354
as.factor(Ownership.Type)Non profit - Other                      -1.322
Average.Number.of.Residents.per.Day                               8.709
as.factor(Staffing.Rating)2                                      -2.720
as.factor(Staffing.Rating)3                                      -4.840
as.factor(Staffing.Rating)4                                     -10.361
as.factor(Staffing.Rating)5                                     -12.868
Number.of.Citations.from.Infection.Control.Inspections            3.610
Total.Weighted.Health.Survey.Score                                1.781
                                                                Pr(&gt;|t|)    
(Intercept)                                                      &lt; 2e-16 ***
as.factor(Ownership.Type)For profit - Individual                0.000164 ***
as.factor(Ownership.Type)For profit - Limited Liability company 1.90e-06 ***
as.factor(Ownership.Type)For profit - Partnership               0.014306 *  
as.factor(Ownership.Type)Government - City                      0.194089    
as.factor(Ownership.Type)Government - City/county               0.279139    
as.factor(Ownership.Type)Government - County                    0.004865 ** 
as.factor(Ownership.Type)Government - Federal                   0.187631    
as.factor(Ownership.Type)Government - Hospital district         0.353760    
as.factor(Ownership.Type)Government - State                     0.645362    
as.factor(Ownership.Type)Non profit - Church related            4.77e-09 ***
as.factor(Ownership.Type)Non profit - Corporation                &lt; 2e-16 ***
as.factor(Ownership.Type)Non profit - Other                     0.186042    
Average.Number.of.Residents.per.Day                              &lt; 2e-16 ***
as.factor(Staffing.Rating)2                                     0.006541 ** 
as.factor(Staffing.Rating)3                                     1.32e-06 ***
as.factor(Staffing.Rating)4                                      &lt; 2e-16 ***
as.factor(Staffing.Rating)5                                      &lt; 2e-16 ***
Number.of.Citations.from.Infection.Control.Inspections          0.000307 ***
Total.Weighted.Health.Survey.Score                              0.074875 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1.728 on 10315 degrees of freedom
  (167 observations deleted due to missingness)
Multiple R-squared:  0.08787,   Adjusted R-squared:  0.08619 
F-statistic:  52.3 on 19 and 10315 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>model3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(HAI_039_RS_Rate <span class="sc">~</span> <span class="fu">as.factor</span>(Ownership.Type) <span class="sc">+</span> Average.Number.of.Residents.per.Day <span class="sc">+</span> Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day<span class="sc">+</span> <span class="fu">as.factor</span>(Staffing.Rating) <span class="sc">+</span> Number.of.Citations.from.Infection.Control.Inspections <span class="sc">+</span> Total.Weighted.Health.Survey.Score, <span class="at">data=</span>mydata)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = HAI_039_RS_Rate ~ as.factor(Ownership.Type) + Average.Number.of.Residents.per.Day + 
    Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day + 
    as.factor(Staffing.Rating) + Number.of.Citations.from.Infection.Control.Inspections + 
    Total.Weighted.Health.Survey.Score, data = mydata)

Residuals:
    Min      1Q  Median      3Q     Max 
-4.3647 -1.2176 -0.2368  0.9788 14.2480 

Coefficients:
                                                                  Estimate
(Intercept)                                                      7.7139654
as.factor(Ownership.Type)For profit - Individual                 0.3068870
as.factor(Ownership.Type)For profit - Limited Liability company  0.2178713
as.factor(Ownership.Type)For profit - Partnership                0.2054094
as.factor(Ownership.Type)Government - City                      -0.5164345
as.factor(Ownership.Type)Government - City/county               -0.2897123
as.factor(Ownership.Type)Government - County                    -0.3459202
as.factor(Ownership.Type)Government - Federal                   -0.9265591
as.factor(Ownership.Type)Government - Hospital district         -0.1125460
as.factor(Ownership.Type)Government - State                     -0.0568732
as.factor(Ownership.Type)Non profit - Church related            -0.6622448
as.factor(Ownership.Type)Non profit - Corporation               -0.5129555
as.factor(Ownership.Type)Non profit - Other                     -0.1254348
Average.Number.of.Residents.per.Day                              0.0031629
Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day        -0.0170290
as.factor(Staffing.Rating)2                                     -0.1289877
as.factor(Staffing.Rating)3                                     -0.2351567
as.factor(Staffing.Rating)4                                     -0.5383925
as.factor(Staffing.Rating)5                                     -0.9345178
Number.of.Citations.from.Infection.Control.Inspections           0.0272307
Total.Weighted.Health.Survey.Score                               0.0004006
                                                                Std. Error
(Intercept)                                                      0.1066407
as.factor(Ownership.Type)For profit - Individual                 0.0805530
as.factor(Ownership.Type)For profit - Limited Liability company  0.0483874
as.factor(Ownership.Type)For profit - Partnership                0.0841624
as.factor(Ownership.Type)Government - City                       0.3976523
as.factor(Ownership.Type)Government - City/county                0.3018338
as.factor(Ownership.Type)Government - County                     0.1166703
as.factor(Ownership.Type)Government - Federal                    0.7047748
as.factor(Ownership.Type)Government - Hospital district          0.1360054
as.factor(Ownership.Type)Government - State                      0.3889410
as.factor(Ownership.Type)Non profit - Church related             0.1162199
as.factor(Ownership.Type)Non profit - Corporation                0.0507011
as.factor(Ownership.Type)Non profit - Other                      0.1110312
Average.Number.of.Residents.per.Day                              0.0003664
Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day         0.0292242
as.factor(Staffing.Rating)2                                      0.0490105
as.factor(Staffing.Rating)3                                      0.0548664
as.factor(Staffing.Rating)4                                      0.0652738
as.factor(Staffing.Rating)5                                      0.0989279
Number.of.Citations.from.Infection.Control.Inspections           0.0071940
Total.Weighted.Health.Survey.Score                               0.0002488
                                                                t value
(Intercept)                                                      72.336
as.factor(Ownership.Type)For profit - Individual                  3.810
as.factor(Ownership.Type)For profit - Limited Liability company   4.503
as.factor(Ownership.Type)For profit - Partnership                 2.441
as.factor(Ownership.Type)Government - City                       -1.299
as.factor(Ownership.Type)Government - City/county                -0.960
as.factor(Ownership.Type)Government - County                     -2.965
as.factor(Ownership.Type)Government - Federal                    -1.315
as.factor(Ownership.Type)Government - Hospital district          -0.828
as.factor(Ownership.Type)Government - State                      -0.146
as.factor(Ownership.Type)Non profit - Church related             -5.698
as.factor(Ownership.Type)Non profit - Corporation               -10.117
as.factor(Ownership.Type)Non profit - Other                      -1.130
Average.Number.of.Residents.per.Day                               8.632
Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day         -0.583
as.factor(Staffing.Rating)2                                      -2.632
as.factor(Staffing.Rating)3                                      -4.286
as.factor(Staffing.Rating)4                                      -8.248
as.factor(Staffing.Rating)5                                      -9.446
Number.of.Citations.from.Infection.Control.Inspections            3.785
Total.Weighted.Health.Survey.Score                                1.610
                                                                Pr(&gt;|t|)    
(Intercept)                                                      &lt; 2e-16 ***
as.factor(Ownership.Type)For profit - Individual                0.000140 ***
as.factor(Ownership.Type)For profit - Limited Liability company 6.79e-06 ***
as.factor(Ownership.Type)For profit - Partnership               0.014679 *  
as.factor(Ownership.Type)Government - City                      0.194073    
as.factor(Ownership.Type)Government - City/county               0.337158    
as.factor(Ownership.Type)Government - County                    0.003034 ** 
as.factor(Ownership.Type)Government - Federal                   0.188644    
as.factor(Ownership.Type)Government - Hospital district         0.407967    
as.factor(Ownership.Type)Government - State                     0.883746    
as.factor(Ownership.Type)Non profit - Church related            1.24e-08 ***
as.factor(Ownership.Type)Non profit - Corporation                &lt; 2e-16 ***
as.factor(Ownership.Type)Non profit - Other                     0.258618    
Average.Number.of.Residents.per.Day                              &lt; 2e-16 ***
Adjusted.Total.Nurse.Staffing.Hours.per.Resident.per.Day        0.560106    
as.factor(Staffing.Rating)2                                     0.008505 ** 
as.factor(Staffing.Rating)3                                     1.84e-05 ***
as.factor(Staffing.Rating)4                                      &lt; 2e-16 ***
as.factor(Staffing.Rating)5                                      &lt; 2e-16 ***
Number.of.Citations.from.Infection.Control.Inspections          0.000154 ***
Total.Weighted.Health.Survey.Score                              0.107467    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1.724 on 10158 degrees of freedom
  (323 observations deleted due to missingness)
Multiple R-squared:  0.08902,   Adjusted R-squared:  0.08722 
F-statistic: 49.63 on 20 and 10158 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>My key takeaways from these three models is that Model 2 and Model 3 have very similar R^2 fits. So they are likely not adding that much information by including both staffing rating and the staffing rate in the same model. Also, while less important, we see that staffing rate is not significantly associated with our outcome in this fully adjusted model.</p>
<p>I think currently I am leaning towards choosing model 2 as a our final model for associations. This will allow us to draw conclusions about how staffing ratings are associated with healthcare associated infection rates.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>